---
/**
 * WhatsAppButton Component - Specialized button for WhatsApp click-to-chat
 * Opens WhatsApp app on mobile or web.whatsapp.com on desktop
 */
import Button from './Button.astro';
import { getWhatsAppLink } from '../../utils/whatsapp';

interface Props {
  phoneNumber: string;
  message: string;
  label?: string;
  ariaLabel?: string;
}

const {
  phoneNumber,
  message,
  label = 'Discuter sur WhatsApp',
  ariaLabel = `Contacter Make It Global sur WhatsApp: ${message.substring(0, 50)}...`
} = Astro.props;
const whatsappUrl = getWhatsAppLink(phoneNumber, message);
---

<Button
  variant="secondary"
  href={whatsappUrl}
  ariaLabel={ariaLabel}
>
  {label}
</Button>
