---
/**
 * VideoSection Component - Dark Theme with Geometric Animations
 *
 * Displays 2-3 before/after video examples with lazy loading and facade pattern.
 * Part of Epic 4: Visual proof section showing translation quality with lip-sync.
 *
 * Emotional journey:
 * - Entry: Post-process reassurance ("OK simple, but what quality?")
 * - Discovery: Click and watch videos ("Wow, lip-sync is amazing")
 * - Conviction: See multiple examples ("This is truly professional")
 * - Exit: Conviction established → Scroll to TestimonialsSection
 *
 * @component
 */

import VideoEmbed from '../ui/VideoEmbed.astro';
import GeometricBackground from '../ui/GeometricBackground.astro';
import WhatsAppButton from '../ui/WhatsAppButton.astro';
import { WHATSAPP_NUMBER, WHATSAPP_DEFAULT_MESSAGE } from '../../config';

/**
 * Video content configuration
 * NOTE: Placeholder IDs (dQw4w9WgXcQ) are used until final demo videos are ready.
 * Replace with real before/after translation video IDs when available.
 */
const videos = [
  {
    id: 'dQw4w9WgXcQ', // PLACEHOLDER: Replace with real French→English video
    platform: 'youtube' as const,
    title: 'Exemple traduction Français vers Anglais avec lip-sync professionnel',
    caption: 'Français → Anglais',
    description: 'Vidéo professionnelle B2B traduite avec voix naturelle',
  },
  {
    id: 'dQw4w9WgXcQ', // PLACEHOLDER: Replace with real French→Spanish video
    platform: 'youtube' as const,
    title: 'Exemple traduction Français vers Espagnol avec doublage naturel',
    caption: 'Français → Espagnol',
    description: 'Formation en ligne adaptée pour marché hispanophone',
  },
  {
    id: 'dQw4w9WgXcQ', // PLACEHOLDER: Replace with real French→German video
    platform: 'youtube' as const,
    title: 'Exemple traduction Français vers Allemand pour contenu technique',
    caption: 'Français → Allemand',
    description: 'Contenu technique traduit pour marché DACH',
  },
];
---

<section
  id="videos"
  aria-labelledby="videos-heading"
  aria-label="Vidéos de démonstration"
  class="relative py-16 md:py-24 px-6 md:px-12 bg-dark-surface overflow-hidden"
>
  <!-- Geometric Background Animation -->
  <GeometricBackground intensity="subtle" variant="blue" />

  <div class="relative z-10 max-w-7xl mx-auto">
    <!-- Section Header -->
    <div class="text-center mb-12">
      <h2
        id="videos-heading"
        class="text-3xl md:text-4xl font-bold text-white mb-4"
      >
        Découvrez la Qualité en Action
      </h2>
      <p class="text-lg text-text-secondary max-w-2xl mx-auto">
        Voyez par vous-même la qualité de nos traductions vidéo avec lip-sync
        professionnel et voix naturelles.
      </p>
    </div>

    <!-- Videos Grid -->
    <div
      class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8"
    >
      {
        videos.map((video) => (
          <div class="video-item">
            <!-- Video Embed Component -->
            <VideoEmbed
              videoId={video.id}
              platform={video.platform}
              title={video.title}
              aspectRatio="16/9"
            />

            <!-- Caption -->
            <div class="mt-4 text-center">
              <p class="text-base md:text-lg font-semibold text-white">
                {video.caption}
              </p>
              <p class="text-sm text-text-tertiary mt-1">{video.description}</p>
            </div>
          </div>
        ))
      }
    </div>

    <!-- CTA après vidéos -->
    <div class="mt-16 text-center">
      <p class="text-lg text-text-secondary mb-6">
        Vous souhaitez vous développer à l'international ? Discutons de votre projet.
      </p>
      <div class="flex justify-center">
        <WhatsAppButton
          phoneNumber={WHATSAPP_NUMBER}
          message={WHATSAPP_DEFAULT_MESSAGE}
          section="videos"
          variant="primary"
        />
      </div>
    </div>
  </div>
</section>
